<!-- src/ui/warnings.html -->
<div id="hud-warnings">
  <div id="damage-flash"></div>
  <div id="warning-icons"></div>
</div>

/* src/ui/warnings.css */
#hud-warnings {
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  z-index: 3000;
  pointer-events: none;
}
#damage-flash {
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(255,0,0,0.18);
  opacity: 0;
  transition: opacity 0.25s;
  pointer-events: none;
}
#warning-icons {
  position: absolute;
  top: 6vw;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  flex-direction: column;
  gap: 1vw;
  align-items: center;
  z-index: 1;
}
.warning-icon {
  background: rgba(255,255,0,0.92);
  color: #a00;
  border-radius: 1vw;
  padding: 0.8vw 2vw;
  font-family: 'Orbitron', 'Consolas', monospace;
  font-size: 2vw;
  font-weight: bold;
  letter-spacing: 0.14em;
  box-shadow: 0 0 0.8vw #ff0a;
  opacity: 0.93;
  margin-bottom: 0.2vw;
  pointer-events: none;
}
@media (max-width: 600px) {
  #warning-icons {
    top: 10vw;
    font-size: 4vw;
  }
  .warning-icon {
    font-size: 4vw;
    padding: 1vw 4vw;
  }
}

// src/ui/warnings.js
/**
 * Mounts the damage/warning overlay into the DOM.
 */
export function mountWarnings() {
  if (!document.getElementById('hud-warnings')) {
    fetch('src/ui/warnings.html')
      .then(res => res.text())
      .then(html => {
        const div = document.createElement('div');
        div.innerHTML = html;
        document.body.appendChild(div.firstElementChild);
      });
  }
  // Add CSS
  if (!document.getElementById('warnings-css')) {
    const link = document.createElement('link');
    link.id = 'warnings-css';
    link.rel = 'stylesheet';
    link.href = 'src/ui/warnings.css';
    document.head.appendChild(link);
  }
}

/**
 * Flashes the screen red for brief damage feedback.
 */
export function showDamageFlash() {
  const flash = document.getElementById('damage-flash');
  if (!flash) return;
  flash.style.opacity = '1';
  setTimeout(() => { flash.style.opacity = '0'; }, 180);
}

/**
 * Shows a warning icon for a critical state (e.g., 'LOW HEALTH', 'MISSILE LOCK').
 * @param {string} text
 * @param {number} [duration=1200] ms
 */
export function showWarningIcon(text, duration = 1200) {
  const icons = document.getElementById('warning-icons');
  if (!icons) return;
  const icon = document.createElement('div');
  icon.className = 'warning-icon';
  icon.textContent = text;
  icons.appendChild(icon);
  setTimeout(() => icon.remove(), duration);
}
